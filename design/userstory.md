# 온라인 핸드폰 구매 사이트 - 유저스토리

## 마이크로서비스 구성
1. **Product** - 상품 검색, 필터링, 상세 정보 관리
2. **Score** - 가성비 점수 자동 계산 엔진 (핵심 차별화 기능)
3. **User** - 사용자 인증, 개인화 설정 관리
4. **Recommendation** - 가성비 기반 개인화 추천
5. **Feedback** - 피드백 수집 및 시스템 개선
6. **Order** - 주문 및 결제 처리

---

## 유저스토리

```
1. Product 서비스
1) 상품 검색 및 필터링
UFR-PROD-010: [상품검색] 소비자로서 | 나는, 원하는 핸드폰을 찾기 위해 | 검색키워드와 카테고리로 상품을 검색하고 싶다.
- 시나리오: 핸드폰 검색
  온라인 핸드폰 구매 사이트에 접근한 상황에서 | 검색키워드(예: iPhone, 갤럭시)와 카테고리(브랜드, 가격대)를 입력하면 | 조건에 맞는 핸드폰 목록이 표시된다.
  - [ ] 검색키워드 입력 기능 (상품명, 브랜드명, 모델명)
  - [ ] 카테고리 선택 기능 (브랜드, 가격대, 출시년도)
  - [ ] 검색 결과 목록 표시
  - [ ] 검색 결과 개수 표시
  - [ ] 검색어 자동완성 기능
- M/13

UFR-PROD-020: [상품필터링] 소비자로서 | 나는, 나의 예산과 선호에 맞는 핸드폰을 찾기 위해 | 가격범위와 브랜드, 성능 조건으로 필터링하고 싶다.
- 시나리오: 필터 적용
  상품 검색 결과가 표시된 상황에서 | 가격범위(10만원~50만원), 브랜드필터(삼성, 애플), 성능필터(RAM, 저장용량)를 설정하면 | 조건에 맞는 상품만 필터링되어 표시된다.
  - [ ] 가격범위 슬라이더 (최소~최대 가격 설정)
  - [ ] 브랜드 다중 선택 체크박스
  - [ ] 성능 필터 (RAM, 저장용량, 화면크기, 배터리 용량)
  - [ ] 필터 조건 실시간 검증 (가격범위 유효성 확인)
  - [ ] 필터 초기화 기능
  - [ ] 적용된 필터 태그 표시
- M/13

UFR-PROD-030: [재고확인] 소비자로서 | 나는, 실제 구매 가능한 상품만 보기 위해 | 재고가 있는 상품만 표시되기를 원한다.
- 시나리오: 재고 상태 확인
  필터링된 상품 목록에서 | 각 상품의 재고 상태를 확인하면 | 재고가 있는 상품만 표시되고 품절 상품은 별도 표시된다.
  - [ ] 실시간 재고 수량 확인
  - [ ] 재고 있는 상품 우선 표시
  - [ ] 품절 상품 별도 표시 (회색 처리, 품절 표시)
  - [ ] 재고 부족 상품 경고 표시 (5개 미만)
  - [ ] 예상 입고일 정보 제공 (품절 상품)
- M/8

UFR-PROD-040: [상품상세조회] 소비자로서 | 나는, 구매 결정을 위해 | 핸드폰의 상세 사양과 리뷰, 가격 정보를 확인하고 싶다.
- 시나리오: 상품 상세 페이지 조회
  상품 목록에서 특정 핸드폰을 클릭한 상황에서 | 상품 상세 페이지에 접근하면 | 상세 사양, 이미지, 리뷰, 가격 정보가 종합적으로 표시된다.
  - [ ] 상품 이미지 갤러리 (다각도 사진, 확대 기능)
  - [ ] 상세 사양 정보 (화면, CPU, 메모리, 카메라 등)
  - [ ] 가격 정보 (정가, 할인가, 할인율)
  - [ ] 사용자 리뷰 및 평점
  - [ ] 재고 상태 및 배송 정보
  - [ ] 관련 상품 추천
- M/8

---

2. Score 서비스
1) 가성비 점수 계산
UFR-SCOR-010: [가성비계산] 소비자로서 | 나는, 객관적인 구매 판단을 위해 | 핸드폰의 가성비 점수를 자동으로 계산받고 싶다.
- 시나리오: 가성비 점수 계산 요청
  상품 상세 페이지에서 | "가성비 점수 계산" 버튼을 클릭하면 | 5초 이내에 최신 데이터를 기반으로 한 가성비 점수가 표시된다.
  - [ ] 가성비 점수 계산 요청 버튼
  - [ ] 계산 진행 상태 표시 (로딩 인디케이터)
  - [ ] 5초 이내 점수 계산 완료
  - [ ] 0-100점 스케일 점수 표시
  - [ ] 점수 등급 표시 (우수, 양호, 보통, 개선필요)
  - [ ] 계산 기준일시 표시
- M/21

UFR-SCOR-020: [실시간정보반영] 소비자로서 | 나는, 정확한 가성비 판단을 위해 | 최신 가격과 리뷰, 성능 정보가 반영된 점수를 원한다.
- 시나리오: 최신 데이터 기반 점수 제공
  가성비 점수 계산 시 | 시스템이 최신 가격 정보(1시간 이내), 리뷰 점수, 성능 벤치마크를 수집하면 | 실시간 반영된 정확한 가성비 점수가 제공된다.
  - [ ] 최신 가격 정보 수집 (다중 쇼핑몰 API 연동)
  - [ ] 실시간 리뷰 점수 반영 (가중치 적용)
  - [ ] 성능 벤치마크 점수 정규화 (0-100 스케일)
  - [ ] 데이터 수집 완료 상태 표시
  - [ ] 데이터 신뢰도 지표 제공
  - [ ] 1시간 이내 최신 가격 정보 보장
- M/34

2) 점수 분석 및 조회
UFR-SCOR-030: [점수상세조회] 소비자로서 | 나는, 가성비 점수를 신뢰하기 위해 | 점수 계산 근거와 상세 분석을 투명하게 확인하고 싶다.
- 시나리오: 점수 계산 근거 확인
  가성비 점수가 표시된 상황에서 | "상세 분석" 버튼을 클릭하면 | 점수 분해도, 계산 과정, 각 요소별 기여도가 상세하게 표시된다.
  - [ ] 점수 분해도 차트 (가격:성능:리뷰 비율)
  - [ ] 계산 공식 및 과정 설명
  - [ ] 각 요소별 점수 및 가중치 표시
  - [ ] 경쟁 상품 대비 비교 분석
  - [ ] 계산에 사용된 데이터 출처 명시
  - [ ] 투명한 점수 산출 근거 제공
- S/8

UFR-SCOR-040: [점수이력확인] 소비자로서 | 나는, 시장 변동성을 이해하기 위해 | 가성비 점수의 변화 추이를 확인하고 싶다.
- 시나리오: 점수 변화 추이 조회
  점수 상세 페이지에서 | "점수 이력" 탭을 클릭하면 | 최근 30일간의 점수 변화 그래프와 주요 변화 요인이 표시된다.
  - [ ] 30일간 점수 변화 그래프 (일별/주별 선택)
  - [ ] 주요 변화 구간 하이라이트
  - [ ] 변화 요인 설명 (가격 변동, 신제품 출시 등)
  - [ ] 시장 동향 정보 제공
  - [ ] 점수 변화 알림 설정 기능
- S/8

---

3. User 서비스
1) 사용자 인증 및 관리
UFR-USER-010: [회원가입] 소비자로서 | 나는, 개인화된 서비스를 이용하기 위해 | 간편하게 회원가입하고 싶다.
- 시나리오: 신규 회원가입
  사이트 접속 후 회원가입 버튼을 클릭한 상황에서 | 이메일, 비밀번호, 기본 정보를 입력하면 | 회원가입이 완료되고 환영 메시지와 함께 로그인된다.
  - [ ] 이메일 주소 입력 및 중복 확인
  - [ ] 비밀번호 입력 (8자 이상, 영문+숫자+특수문자)
  - [ ] 닉네임 입력 및 중복 확인
  - [ ] 약관 동의 (필수/선택 구분)
  - [ ] 이메일 인증 처리
  - [ ] 회원가입 완료 후 자동 로그인
- M/13

UFR-USER-020: [로그인] 소비자로서 | 나는, 개인화된 서비스를 이용하기 위해 | 간편하게 로그인하고 싶다.
- 시나리오: 사용자 로그인
  로그인 페이지에서 | 이메일과 비밀번호를 입력하면 | 인증 후 메인 페이지로 이동하고 개인화 메뉴가 표시된다.
  - [ ] 이메일/비밀번호 로그인
  - [ ] 로그인 상태 유지 옵션
  - [ ] 소셜 로그인 (구글, 카카오, 네이버)
  - [ ] 비밀번호 찾기 기능
  - [ ] 로그인 실패 시 보안 처리 (횟수 제한)
- M/8

2) 개인화 설정
UFR-USER-030: [개인화설정] 소비자로서 | 나는, 나만의 구매 기준을 반영하기 위해 | 가격/성능/리뷰의 가중치를 개인화하고 싶다.
- 시나리오: 가중치 개인화 설정
  마이페이지에서 개인화 설정 메뉴에 접근한 상황에서 | 가격(40%), 성능(40%), 리뷰(20%) 가중치를 조정하면 | 개인화된 기준이 저장되고 향후 가성비 점수에 반영된다.
  - [ ] 가중치 슬라이더 인터페이스 (총합 100% 제한)
  - [ ] 실시간 점수 변화 미리보기
  - [ ] 기본 설정값 제공 및 초기화 기능
  - [ ] 설정 변경 이력 관리
  - [ ] 개인화 기준 저장 및 적용 확인
  - [ ] 설정값 범위 검증 (0-100%)
- S/8

---

4. Recommendation 서비스
1) 개인화 추천
UFR-RECO-010: [개인화추천] 소비자로서 | 나는, 나에게 적합한 핸드폰을 쉽게 찾기 위해 | 예산과 선호조건에 맞는 개인화된 상품 추천을 받고 싶다.
- 시나리오: 개인화 추천 요청
  메인 페이지에서 "추천받기" 버튼을 클릭한 상황에서 | 예산범위(30만원), 선호브랜드(삼성, 애플), 용도(게임, 사진)를 설정하면 | 개인화된 가성비 기준으로 상위 5개 상품이 추천된다.
  - [ ] 예산범위 설정 인터페이스
  - [ ] 선호 브랜드 다중 선택
  - [ ] 주 사용 용도 선택 (게임, 사진, 업무, 일반)
  - [ ] 개인화된 가중치 자동 적용
  - [ ] 상위 추천 상품 목록 표시
  - [ ] 추천 점수 및 순위 표시
- S/13

UFR-RECO-020: [추천근거제공] 소비자로서 | 나는, 추천 결과를 신뢰하기 위해 | 왜 이 상품이 추천되는지 명확한 이유를 알고 싶다.
- 시나리오: 추천 근거 확인
  추천 상품 목록에서 | 특정 상품의 "추천 이유" 버튼을 클릭하면 | 개인 설정 기준에 따른 추천 근거와 강점이 상세하게 표시된다.
  - [ ] 개인화 기준 대비 매칭률 표시
  - [ ] 추천 상품의 주요 강점 설명
  - [ ] 사용자 선호도와의 일치점 강조
  - [ ] 경쟁 제품 대비 우수성 설명
  - [ ] 추천 근거의 투명성 확보
- S/5

UFR-RECO-030: [고득점필터링] 소비자로서 | 나는, 품질이 보장된 상품만 보기 위해 | 가성비 점수가 높은 상품들만 추천받고 싶다.
- 시나리오: 고득점 상품 추천
  추천 설정에서 | "고득점만 추천" 옵션을 활성화하면 | 가성비 점수 70점 이상의 상품만 추천 목록에 포함된다.
  - [ ] 최소 점수 임계값 설정 (기본 70점)
  - [ ] 고득점 필터링 옵션 제공
  - [ ] 점수 기준 조정 가능 (50~90점)
  - [ ] 필터링된 상품 개수 표시
  - [ ] 점수 분포 히스토그램 표시
- S/5

---

5. Feedback 서비스
1) 사용자 피드백
UFR-FEED-010: [만족도평가] 소비자로서 | 나는, 서비스 개선에 기여하기 위해 | 가성비 점수와 추천 결과에 대한 만족도를 평가하고 싶다.
- 시나리오: 만족도 평가 제출
  가성비 점수 확인 후 | "평가하기" 버튼을 클릭하여 점수 정확성(5점), 추천 품질(4점), 전반적 만족도(4점)를 평가하면 | 피드백이 제출되고 감사 메시지가 표시된다.
  - [ ] 5점 척도 만족도 평가 (점수 정확성, 추천 품질, 전반적 만족도)
  - [ ] 별점 또는 숫자 입력 인터페이스
  - [ ] 익명 평가 옵션 제공
  - [ ] 평가 제출 완료 확인
  - [ ] 포인트 적립 또는 혜택 제공
- C/5

UFR-FEED-020: [개선제안] 소비자로서 | 나는, 더 나은 서비스를 받기 위해 | 점수 계산이나 추천 기능에 대한 개선 의견을 제안하고 싶다.
- 시나리오: 개선 의견 제안
  피드백 페이지에서 | "개선 의견"을 선택하고 자유 텍스트로 의견을 작성하면 | 부적절한 내용 필터링 후 피드백 DB에 저장된다.
  - [ ] 자유 텍스트 의견 입력 (최대 500자)
  - [ ] 개선 분야 카테고리 선택 (점수계산, 추천, UI/UX, 기능)
  - [ ] 부적절 내용 자동 필터링 (욕설, 광고, 스팸)
  - [ ] 익명 제출 옵션
  - [ ] 제출 완료 안내 및 처리 예정일 통지
- C/5

2) 관리자 기능
AFR-FEED-010: [피드백분석] 시스템관리자로서 | 나는, 서비스 품질 향상을 위해 | 사용자 피드백을 분석하여 개선점을 도출하고 싶다.
- 시나리오: 피드백 데이터 분석
  관리자 콘솔에서 | "피드백 분석" 메뉴에 접근하면 | 기간별 만족도 추이, 주요 개선 요청사항, 문제점 식별 결과가 대시보드로 표시된다.
  - [ ] 기간별 만족도 통계 (일/주/월 단위)
  - [ ] 카테고리별 피드백 분류 및 집계
  - [ ] 키워드 분석을 통한 주요 이슈 도출
  - [ ] 개선 우선순위 자동 산정
  - [ ] 피드백 트렌드 분석 및 시각화
  - [ ] 분석 결과 리포트 생성
- S/13

AFR-FEED-020: [알고리즘개선] 시스템관리자로서 | 나는, 사용자 만족도를 높이기 위해 | 피드백 기반으로 가성비 계산 알고리즘을 지속적으로 개선하고 싶다.
- 시나리오: 알고리즘 개선 적용
  피드백 분석 결과를 바탕으로 | 가성비 계산 가중치를 조정하고 새로운 지표를 추가하면 | A/B 테스트를 통해 점진적으로 개선사항이 적용된다.
  - [ ] 가중치 조정 인터페이스
  - [ ] 새로운 지표 추가 기능
  - [ ] A/B 테스트 설정 및 실행
  - [ ] 개선 효과 모니터링 대시보드
  - [ ] 주단위 개선 반영 스케줄
  - [ ] 개선 이력 관리 및 롤백 기능
- S/21

---

6. Order 서비스
1) 장바구니 및 주문
UFR-ORDE-010: [장바구니담기] 소비자로서 | 나는, 여러 상품을 비교 검토하기 위해 | 관심 있는 핸드폰들을 장바구니에 담고 싶다.
- 시나리오: 장바구니 상품 추가
  상품 상세 페이지에서 | "장바구니 담기" 버튼을 클릭하면 | 상품이 장바구니에 추가되고 우상단 장바구니 아이콘에 개수가 표시된다.
  - [ ] 장바구니 담기 버튼 (상품 상세 페이지)
  - [ ] 장바구니 상품 개수 실시간 표시
  - [ ] 중복 상품 추가 시 수량 증가 또는 알림
  - [ ] 장바구니 담기 성공 토스트 메시지
  - [ ] 로그인 시 장바구니 동기화
- M/5

UFR-ORDE-020: [장바구니관리] 소비자로서 | 나는, 구매 전 최종 검토를 위해 | 장바구니에서 상품들을 비교하고 수량을 조정하고 싶다.
- 시나리오: 장바구니 상품 관리
  장바구니 페이지에서 | 담긴 상품들을 확인하고 수량 변경, 삭제, 가성비 점수 비교를 할 수 있으며 | 총 주문금액이 실시간으로 계산된다.
  - [ ] 장바구니 상품 목록 표시
  - [ ] 수량 변경 기능 (+ / - 버튼)
  - [ ] 개별 상품 삭제 기능
  - [ ] 선택 상품 일괄 삭제
  - [ ] 상품간 가성비 점수 비교
  - [ ] 총 주문금액 실시간 계산
- M/8

UFR-ORDE-030: [주문결제] 소비자로서 | 나는, 선택한 핸드폰을 구매하기 위해 | 배송지 정보를 입력하고 결제를 완료하고 싶다.
- 시나리오: 주문 및 결제 처리
  장바구니에서 "주문하기" 버튼을 클릭한 상황에서 | 배송지 정보, 결제 수단을 선택하고 결제하면 | 주문이 완료되고 주문번호가 발급된다.
  - [ ] 배송지 정보 입력/선택 (신규/기존 주소)
  - [ ] 결제 수단 선택 (카드, 계좌이체, 간편결제)
  - [ ] 주문 정보 최종 확인
  - [ ] 결제 처리 및 주문번호 발급
  - [ ] 주문 완료 확인 이메일/SMS 발송
  - [ ] PG사 연동 보안 결제
- M/21

2) 주문 관리
UFR-ORDE-040: [주문내역조회] 소비자로서 | 나는, 구매한 상품의 배송 상태를 확인하기 위해 | 주문 내역과 배송 추적 정보를 조회하고 싶다.
- 시나리오: 주문 및 배송 조회
  마이페이지에서 "주문내역" 메뉴에 접근한 상황에서 | 주문 목록을 확인하고 특정 주문을 클릭하면 | 주문 상세 정보와 실시간 배송 추적 정보가 표시된다.
  - [ ] 주문 내역 목록 (최신순 정렬)
  - [ ] 주문 상태별 필터 (주문완료, 배송준비, 배송중, 배송완료)
  - [ ] 주문 상세 정보 조회 (상품, 결제, 배송지)
  - [ ] 실시간 배송 추적 정보
  - [ ] 배송 완료 후 상품평 작성 링크
  - [ ] 주문 취소/교환/반품 신청 기능
- M/13
```

---

## 기술 검토 결과

### 마이크로서비스별 구현 복잡도

1. **Product 서비스**: ✅ 실현 가능 (표준 전자상거래 패턴)
2. **Score 서비스**: ⚠️ 높은 복잡도 (AI/ML, 다중 외부 API 연동 필요)
3. **User 서비스**: ✅ 실현 가능 (표준 인증/인가 패턴)
4. **Recommendation 서비스**: ⚠️ 중간 복잡도 (개인화 알고리즘 구현 필요)
5. **Feedback 서비스**: ✅ 실현 가능 (피드백 수집 및 분석 시스템)
6. **Order 서비스**: ✅ 실현 가능 (표준 주문/결제 시스템)

### 핵심 기술적 과제

1. **가성비 점수 계산 엔진** (Score 서비스)
   - 다중 외부 API 병렬 처리 (가격, 리뷰, 성능)
   - 5초 이내 응답 시간 보장
   - 실시간 데이터 수집 및 정규화

2. **개인화 추천 알고리즘** (Recommendation 서비스)
   - 사용자 가중치 기반 점수 재계산
   - 70점 이상 고득점 필터링
   - 추천 근거 설명 생성

3. **실시간 재고 관리** (Product 서비스)
   - 재고 시스템과의 실시간 연동
   - 품절/재입고 상태 관리

### 권장 기술 스택

- **Backend**: Node.js/Express, Python/FastAPI (AI 서비스)
- **Database**: PostgreSQL (주문/사용자), Redis (캐시/세션)
- **Message Queue**: RabbitMQ/Apache Kafka
- **Frontend**: React/Next.js, TypeScript
- **Infrastructure**: Docker, Kubernetes, API Gateway